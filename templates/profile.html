{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8">
    <div class="card p-4">
      <h2 class="mb-3 text-primary">Profile & Quiz</h2>
      <form method="post" action="/submit_profile">
        <h5 class="mb-3">Personal Information</h5>
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input type="text" class="form-control" id="name" name="name" required>
        </div>
        <div class="mb-3">
          <label for="age" class="form-label">Age</label>
          <input type="number" class="form-control" id="age" name="age" min="10" max="30" required>
        </div>
        <div class="mb-3">
          <label for="education_level" class="form-label">Education Level</label>
          <select class="form-select" id="education_level" name="education_level" required>
            <option value="">Select your education level</option>
            <option value="10th">10th Grade (Completed)</option>
            <option value="12th">12th Grade (Completed)</option>
            <option value="other">Other</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="percentage" class="form-label">Percentage</label>
          <input type="number" class="form-control" id="percentage" name="percentage" min="0" max="100" required>
          <small class="text-muted">Enter your 10th or 12th grade percentage</small>
        </div>
        <div class="mb-3">
          <label class="form-label">Interests</label>
          <select class="form-select" name="interests" multiple required>
            <option>Technology</option>
            <option>Science</option>
            <option>Commerce</option>
            <option>Arts</option>
            <option>Business</option>
            <option>Engineering</option>
            <option>Medical</option>
            <option>Design</option>
          </select>
          <small class="text-muted">Hold Ctrl (Windows) or Cmd (Mac) to select multiple</small>
        </div>
        <div class="mb-3">
          <label class="form-label">Skills</label>
          <select class="form-select" name="skills" multiple required>
            <option>Programming</option>
            <option>Mathematics</option>
            <option>Communication</option>
            <option>Leadership</option>
            <option>Creativity</option>
            <option>Problem Solving</option>
            <option>Analytical Thinking</option>
            <option>Teamwork</option>
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Hobbies</label>
          <select class="form-select" name="hobbies" multiple>
            <option>Reading</option>
            <option>Gaming</option>
            <option>Sports</option>
            <option>Drawing</option>
            <option>Music</option>
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Personality</label>
          <select class="form-select" name="personality" required>
            <option>Introvert</option>
            <option>Extrovert</option>
            <option>Ambivert</option>
          </select>
        </div>
        <div class="mb-4">
          <label class="form-label">Work Style</label>
          <select class="form-select" name="work_style" required>
            <option>Analytical</option>
            <option>Creative</option>
            <option>Leadership</option>
            <option>Patient</option>
            <option>Precise</option>
            <option>Social</option>
          </select>
        </div>
        <hr>
        <h5 class="mb-3">Quiz <small class="text-muted">(1 = Strongly Disagree, 5 = Strongly Agree)</small></h5>
        
        <!-- 10th Grade Quiz Questions -->
        <div id="quiz-10th" class="quiz-section" style="display: none;">
          {% set quiz_questions_10th = [
            "I enjoy studying Mathematics and Science subjects.",
            "I like working with computers and technology.",
            "I am interested in business and commerce.",
            "I enjoy creative activities like drawing and design.",
            "I want to help people and work in healthcare.",
            "I am good at solving logical problems.",
            "I enjoy reading and writing.",
            "I like working in teams and groups.",
            "I am interested in current affairs and economics.",
            "I want to pursue higher education after school."
          ] %}
          {% for i in range(1, 11) %}
            <div class="mb-3">
              <label class="form-label">Q{{i}}: {{ quiz_questions_10th[i-1] }}</label>
              <div>
                {% for val in range(1, 6) %}
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="quiz_q{{i}}" id="quiz_q{{i}}_{{val}}" value="{{val}}" required>
                    <label class="form-check-label" for="quiz_q{{i}}_{{val}}">{{val}}</label>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>

        <!-- 12th Grade Quiz Questions -->
        <div id="quiz-12th" class="quiz-section" style="display: none;">
          {% set quiz_questions_12th = [
            "I want to pursue engineering or technical education.",
            "I am interested in medical or healthcare careers.",
            "I want to study business administration or commerce.",
            "I am passionate about arts, design, or creative fields.",
            "I enjoy working with data and analytics.",
            "I want to work in the IT or software industry.",
            "I am interested in research and development.",
            "I want to start my own business or become an entrepreneur.",
            "I enjoy teaching or training others.",
            "I want to work in government or public service."
          ] %}
          {% for i in range(1, 11) %}
            <div class="mb-3">
              <label class="form-label">Q{{i}}: {{ quiz_questions_12th[i-1] }}</label>
              <div>
                {% for val in range(1, 6) %}
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="quiz_q{{i}}" id="quiz_q{{i}}_{{val}}" value="{{val}}" required>
                    <label class="form-check-label" for="quiz_q{{i}}_{{val}}">{{val}}</label>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>

        <!-- General Quiz Questions -->
        <div id="quiz-general" class="quiz-section" style="display: none;">
          {% set quiz_questions_general = [
            "I enjoy solving complex problems.",
            "I like helping others and making a difference.",
            "I am creative and enjoy artistic activities.",
            "I am comfortable leading a team.",
            "I pay attention to details and like precision.",
            "I enjoy working with technology.",
            "I am good at communicating ideas.",
            "I like learning new things.",
            "I am patient and persistent.",
            "I enjoy working in a structured environment."
          ] %}
          {% for i in range(1, 11) %}
            <div class="mb-3">
              <label class="form-label">Q{{i}}: {{ quiz_questions_general[i-1] }}</label>
              <div>
                {% for val in range(1, 6) %}
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="quiz_q{{i}}" id="quiz_q{{i}}_{{val}}" value="{{val}}" required>
                    <label class="form-check-label" for="quiz_q{{i}}_{{val}}">{{val}}</label>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>
        <button type="submit" class="btn btn-primary btn-lg mt-3 w-100">Get My Career Path</button>
      </form>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const educationLevelSelect = document.getElementById('education_level');
    const quizSections = document.querySelectorAll('.quiz-section');
    
    function showQuizSection(level) {
        // Hide all quiz sections
        quizSections.forEach(section => {
            section.style.display = 'none';
        });
        
        // Show the appropriate quiz section
        if (level === '10th') {
            document.getElementById('quiz-10th').style.display = 'block';
        } else if (level === '12th') {
            document.getElementById('quiz-12th').style.display = 'block';
        } else if (level === 'other') {
            document.getElementById('quiz-general').style.display = 'block';
        }
    }
    
    // Add event listener for education level change
    educationLevelSelect.addEventListener('change', function() {
        showQuizSection(this.value);
    });
    
    // Show default quiz section if education level is pre-selected
    if (educationLevelSelect.value) {
        showQuizSection(educationLevelSelect.value);
    }
});
</script>
{% endblock %}